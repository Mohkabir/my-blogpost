(this.webpackJsonpmyapp=this.webpackJsonpmyapp||[]).push([[0],{29:function(e,t,n){},36:function(e,t,n){},37:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n(0),a=n.n(r),s=n(20),o=n.n(s),d=(n(29),n(11)),i=n(2),j=n(16),l=n.n(j),u=n(21),h=n(7),b=n(23),O=n(12),m=function(e,t){switch(t.type){case"ADD_NEW_THREND":return Object(O.a)(Object(O.a)({},e),{},{thrends:[].concat(Object(b.a)(e.thrends),[t.payload])});case"REMOVE_THREND":return Object(O.a)(Object(O.a)({},e),{},{thrends:e.thrends.filter((function(e){return e.threndId!==t.payload}))});case"ADD_COMMENT_TO_COMMENTS":return{};default:return e}},p={thrends:localStorage.getItem("thrends")?JSON.parse(localStorage.getItem("thrends")):[{title:"current afairs",content:"nigeria government is the worse government in the world",threndId:22,comments:[]}]},f=Object(r.createContext)(p),x=function(e){var t=Object(r.useReducer)(m,p),n=Object(h.a)(t,2),a=n[0],s=n[1];Object(r.useEffect)((function(){localStorage.setItem("thrends",JSON.stringify(a.thrends))}),[a]);var o=function(){var e=Object(u.a)(l.a.mark((function e(t,n,c,r){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),s({type:"ADD_NEW_THREND",payload:n}),c.current.value="",r.current.value="",window.location.href="/my-blogpost";case 5:case"end":return e.stop()}}),e)})));return function(t,n,c,r){return e.apply(this,arguments)}}();return Object(c.jsx)(f.Provider,{value:{thrends:a.thrends,addthrend:o,removeThrend:function(e){s({type:"REMOVE_THREND",payload:e})},addCommentToComments:function(e,t){e.preventDefault(),s({type:"ADD_COMMENT_TO_COMMENTS",action:t})}},children:e.children})};var v=function(){var e=Object(r.useContext)(f),t=e.thrends,n=e.removeThrend;return Object(c.jsxs)("div",{className:"thrends",children:[t.map((function(e,t){return Object(c.jsxs)("div",{className:"thrend_container",children:[Object(c.jsx)("span",{className:"fas fa-times-circle",onClick:function(){return n(e.threndId)}}),Object(c.jsx)("p",{className:"thrend_title",children:e.title}),Object(c.jsx)("p",{className:"thrend_content",children:e.content}),Object(c.jsx)("div",{className:"comments_number",children:Object(c.jsx)("span",{children:Object(c.jsxs)(d.b,{to:"/my-blogpost",children:["comments ",e.comments.length]})})})]},t)})),Object(c.jsx)("div",{className:"addthrends",children:Object(c.jsx)(d.b,{to:"/add",children:"Add Thrend"})})]})},g=(n(36),function(){var e=Object(r.useContext)(f).addthrend,t=Object(r.useState)(""),n=Object(h.a)(t,2),a=n[0],s=n[1],o=Object(r.useState)(""),d=Object(h.a)(o,2),i=d[0],j=d[1],l=Object(r.useState)(Date.now()),u=Object(h.a)(l,2),b=u[0],O=u[1],m=Object(r.useState)(!0),p=Object(h.a)(m,2),x=(p[0],p[1],!a||!i),v=a&&i?"":"Please input your title and content",g=Object(r.useRef)(),N=Object(r.useRef)(),C={title:a,content:i,threndId:b,comments:[]};return Object(r.useEffect)((function(){O(Date.now())}),[i]),Object(c.jsxs)("form",{onSubmit:function(t){return e(t,C,g,N)},children:[Object(c.jsx)("p",{children:Object(c.jsx)("small",{children:v})}),Object(c.jsx)("input",{className:"title_input",type:"text",placeholder:"Title",onChange:function(e){return s(e.target.value)},ref:g}),Object(c.jsx)("textarea",{className:"content_input",placeholder:"Content",onChange:function(e){return j(e.target.value)},ref:N}),Object(c.jsx)("input",{type:"submit",value:"Add thrend",disabled:x})]})}),N=function(){var e=Object(r.useContext)(f),t=e.thrends,n=e.addCommentToComments,a=Object(r.useState)(""),s=Object(h.a)(a,2),o=s[0],d=s[1];return Object(c.jsxs)("div",{children:[t.map((function(e,t){return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)("div",{className:"thrend_selected",children:[Object(c.jsx)("p",{className:"thrend_title",children:e.title}),Object(c.jsx)("p",{className:"thrend_content",children:e.content})]}),Object(c.jsx)("div",{className:"comments",children:e.comments.map((function(e){return Object(c.jsx)("p",{children:e})}))},t)]})})),Object(c.jsxs)("form",{onSubmit:function(e){return n(e,o)},children:[Object(c.jsx)("input",{onChange:function(e){d(e.target.value)},type:"text",value:o,placeholder:"Add New Comment"}),Object(c.jsx)("button",{children:"add comment"})]})]})};var C=function(){return Object(c.jsx)(x,{children:Object(c.jsx)(d.a,{children:Object(c.jsx)(i.c,{children:Object(c.jsxs)("div",{className:"App",children:[Object(c.jsx)("h1",{children:"Blog Thrend"}),Object(c.jsx)(i.a,{exact:!0,path:"/my-blogpost",component:v}),Object(c.jsx)(i.a,{path:"/add",component:g}),Object(c.jsx)(i.a,{path:"/comments",component:N})]})})})})},_=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,38)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),c(e),r(e),a(e),s(e)}))};o.a.render(Object(c.jsx)(a.a.StrictMode,{children:Object(c.jsx)(C,{})}),document.getElementById("root")),_()}},[[37,1,2]]]);
//# sourceMappingURL=main.e5e8ed81.chunk.js.map